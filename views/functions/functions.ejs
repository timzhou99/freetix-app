<%

formatDateTime = function(date) {

    let toReturn = '';

    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];
    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday','Saturday'];

    toReturn += days[date.getDay()] + ', ' + months[date.getMonth()] + ' ' + date.getDate() + ', ';

    let amPm;
    let hours;

    if (date.getHours() > 12){
        amPm = 'PM';
        hours = date.getHours() - 12;
    } else if (date.getHours() === 12){
        amPm = 'PM';
        hours = date.getHours();
    } else{
        amPm = 'AM';
        hours = date.getHours();
    }

    toReturn += getDoubleDigits(hours) + ':' + getDoubleDigits(date.getMinutes().toString()) + " " + amPm;

    return toReturn;

}

getDoubleDigits = function(number) {

    if (number.length === 1){
        return "0" + number.toString();
    }

    return number.toString();

}

// date conversion code based off of https://stackoverflow.com/a/53813247
const offset = new Date().getTimezoneOffset() * 1000 * 60

getLocalDate = function(value){
    const offsetDate = new Date(value).valueOf() - offset
    const date = new Date(offsetDate).toISOString()
    return date.substring(0, 16)
}

%>